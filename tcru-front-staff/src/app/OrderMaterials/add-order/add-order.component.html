<div class="main-container" style="height: 92vh;" id="element-to-export">
    <div class="row">
        <div class="col-sm-11"></div>
        <!-- พิมพ์ใบสั่งซื้อ -->
        <!-- <div class="col-sm-1">
            <div class="example-button-row">
                <button class="btn btn-success" (click)="downlondPDF()">พิมพ์</button>
            </div>
        </div> -->
    </div>

    <div class="card" style="margin-top: 30px; margin-right: 10px; margin-left: 10px;">
        <!-- หัวเรื่อง -->
        <div class="card-header">
            <h2 class="card-title" style="text-align: center;">ใบสั่งซื้อวัตถุดิบ</h2>
        </div>

        <!-- หัวเรื่องผู้ขาย/วันที่ -->
        <div class="card-header">
            <div class="row">
                <!-- ผู้ขาย -->
                <div class="col-sm-3">
                    <h3 class="card-title">ข้อมูลใบสั่งซื้อ</h3>
                </div>
            </div>
        </div>

        <!-- เลือกร้านค้า/วันที่ -->
        <div class="card-body">
            <div class="row">
                <!-- เลือกร้านค้า -->
                <div class="col-sm-3">
                    <div class="form-group">
                        <label>ชื่อร้านค้า / บริษัท / บุคคล</label><br />
                        <input type="text" class="form-control" formcontrolName="supplier_name" [(NgModel)]="OrderMaterials.supplier_name" placeholder="Ex: ใจดี ค้าขาย">
                        <div *ngIf="supplier_name.invalid && (supplier_name.dirty || supplier_name.touched)" class="text-error">
                            <div *ngIf="supplier_name.errors.required">
                                กรุณากรอกชื่อสินค้า
                            </div>
                        </div>
                    </div>
                </div>
                <!-- เลือกวันที่ -->
                <div class="col-sm-3">
                    <div class="form-group">
                        <label>วันที่สั่งซื้อวัตถุดิบ</label> <br />
                        <input type="date" [value]="from | date:'yyyy-MM-dd'" (input)="updateFromDate($event)" class="form-control" placeholder="วันที่สั่งซื้อวัตถุดิบ" />
                    </div>
                </div>

                <div class="col-sm-3">
                    <div class="form-group">
                        <label>วันที่ได้รับวัตถุดิบ</label> <br />
                        <input type="date" [value]="to | date:'yyyy-MM-dd'" (input)="updateToDate($event)" class="form-control" placeholder="วันที่ได้รับวัตถุดิบ" />
                    </div>
                </div>

                <!-- ใบสั่งซื้อ -->
                <div class="col-sm-3">
                    <div class="form-group">
                        <label>ใบสั่งซื้อ</label><br />
                        <input type="text" class="form-control" formcontrolName="order_name" [(NgModel)]="OrderMaterials.order_name" placeholder="EX: PO-1903">
                        <div *ngIf="order_name.invalid && (order_name.dirty || order_name.touched)" class="text-error">
                            <div *ngIf="order_name.errors.required">
                                กรุณากรอกชื่อสินค้า
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-sm-3">
                    <div class="form-group">
                        <label>สถานะสั่งซื้อ</label><br />
                        <input type="text" class="form-control" formcontrolName="status_order" [(NgModel)]="OrderMaterials.status_order" placeholder="EX: กำลังดำเนินการ หรือ รับวัตถุดิบแล้ว">
                        <div *ngIf="status_order.invalid && (status_order.dirty || status_order.touched)" class="text-error">
                            <div *ngIf="status_order.errors.required">
                                กรุณากรอกชื่อสินค้า
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- หัวเรื่องรายการวัตถุดิบ -->
        <div class="card-header">
            <h3 class="card-title">รายการ</h3>
        </div>

        <!-- หัวเรื่องย่อยรายการวัตถุดิบ -->
        <div class="crad-body" style="margin-top: 20px; margin-left: 10px; margin-right: 10px;">
            <!-- ปุ่มเพิ่มรายการ -->
            <button class="example-button-row" class="btn btn-success" (click)="addCreds()">เพิ่มรายการ</button>
            <div class="row" style="margin-top: 10px;">
                <div class="col-sm-3">
                    <div class="form-group">
                        <label>สินค้า/บริการ</label>
                    </div>
                </div>
                <div class="col-sm-5">
                    <div class="form-group">
                        <label>รายละเอียด</label>
                    </div>
                </div>
                <div class="col-sm-2">
                    <div class="form-group">
                        <label>จำนวน</label>
                    </div>
                </div>
                <div class="col-sm-2">
                    <div class="form-group">
                        <label>ราคา</label>
                    </div>
                </div>
            </div>

            <!-- เพิ่มรายการที่ล่ะแถว -->
            <div formArrayName="credentials" *ngFor="let creds of form.controls.credentials?.value; let i = index">
                <ng-container [formGroupName]="i">
                    <div class="row">
                        <div class="col-sm-3">
                            <div class="form-group">
                                <input formControlName="material_name" type="text" class="form-control" placeholder="ชื่อวัตถุดิบ">
                            </div>
                        </div>
                        <div class="col-sm-5">
                            <div class="form-group">
                                <textarea formControlName="detail" type="text" class="form-control" placeholder="รายละเอียด"></textarea>
                            </div>
                        </div>
                        <div class="col-sm-2">
                            <div class="form-group">
                                <input formControlName="quantity" type="text" class="form-control" placeholder="จำนวน">
                            </div>
                        </div>
                        <div class="col-sm-2">
                            <div class="form-group">
                                <input formControlName="price" type="text" class="form-control" placeholder="ราคา/ชิ้น">
                            </div>
                        </div>
                    </div>
                </ng-container>
            </div>

            <div class="row">
                <div class="col-sm-12">
                    <div class="form-group">
                        <textarea formControlName="Note" type="text" class="form-control" placeholder="หมายเหตุ"></textarea>
                    </div>
                </div>
            </div>
        </div>


    </div>
    <div class="row" style="margin-top: 10px; margin-bottom: 10px;">
        <div class="col-sm-1">
            <button class="example-button-row" class="btn btn-success" type="submit">ยืนยัน</button>
        </div>
        <div class="col-sm-1">
            <button class="example-button-row" class="btn btn-danger" type="button">ยกเลิก</button>
        </div>
    </div>
</div>